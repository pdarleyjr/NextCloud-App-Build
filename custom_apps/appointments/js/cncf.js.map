{"version":3,"file":"cncf.js","mappings":"CAAA,WACI,aACAA,OAAOC,iBAAiB,oBAAoB,WACxC,MAAMC,EAAMC,SAASC,eAAe,+BACpC,IAAIC,EAAM,GACV,GAAY,OAARH,EACAA,EAAID,iBAAiB,SAAS,SAAUK,GAEpC,IAAIC,EAAID,EAAEE,cACV,MAAMC,EAAW,4BACjB,GAAU,OAANF,GAAcA,EAAEG,aAAaD,GAAW,CACxC,MAAME,EAAMX,OAAOY,SAASC,SAASb,OAAOY,SAASE,OAAO,MAAMP,EAAEQ,aAAaN,GAGjFF,EAAES,gBAAgBP,GAGlBN,SAASC,eAAe,4BAA4Ba,MAAMC,QAAU,eAEhElB,OAAOmB,SAAWnB,OAAOmB,QAAQC,cACjCpB,OAAOmB,QAAQC,aAAa,CAAC,EAAG,GAAIT,GACpCX,OAAOmB,QAAQE,MAEfrB,OAAOY,SAAWD,CAE1B,CACJ,IAGAN,EAAM,yBAEH,CACH,GAAmB,mBAARiB,KAAsBtB,OAAOmB,SAAWnB,OAAOmB,QAAQC,aAAc,CAC5E,MAAMG,EAAI,IAAID,IAAItB,OAAOY,UACO,OAA5BW,EAAEC,aAAaC,IAAI,OACnBF,EAAEC,aAAaE,OAAO,KACtB1B,OAAOmB,QAAQC,aAAa,CAAC,EAAG,GAAIG,EAAEI,YAE9C,CAGA,GAA2C,SAAvC3B,OAAOY,SAASC,SAASe,OAAO,GAChCvB,EAAM,oBACH,CACH,MAAMwB,EAAI7B,OAAOY,SAASE,OAAOgB,UAAU,EAAG,GACpC,KAAND,IACU,WAANA,EACAxB,EAAM,mBACO,WAANwB,GAAwB,WAANA,IACzBxB,EAAM,mBAGlB,CACJ,CAGIL,OAAO+B,QAAkB,KAAR1B,GACjBL,OAAO+B,OAAOC,YAAY3B,EAAK,IAEvC,GACH,CA5DD","sources":["webpack://appointments/./src/cncf.js"],"sourcesContent":["(function () {\n    \"use strict\"\n    window.addEventListener('DOMContentLoaded', function () {\n        const btn = document.getElementById('srgdev-appt-cncf_action_btn')\n        let msg = \"\"\n        if (btn !== null) {\n            btn.addEventListener(\"click\", function (e) {\n                /** @type {HTMLElement} */\n                let t = e.currentTarget\n                const attrName = 'data-appt-action-url-hash'\n                if (t !== null && t.hasAttribute(attrName)) {\n                    const uri = window.location.pathname+window.location.search+'&h='+t.getAttribute(attrName)\n\n                    //Avoid double clicks\n                    t.removeAttribute(attrName)\n\n                    // show spinner\n                    document.getElementById(\"srgdev-ncfp_fbtn-spinner\").style.display = \"inline-block\"\n\n                    if (window.history && window.history.replaceState) {\n                        window.history.replaceState({}, '', uri)\n                        window.history.go()\n                    } else {\n                        window.location = uri\n                    }\n                }\n            })\n\n            // embedding stuff @see /test/embedding\n            msg = \"appt:action_needed\"\n\n        } else {\n            if (typeof URL === \"function\" && window.history && window.history.replaceState) {\n                const u = new URL(window.location)\n                if (u.searchParams.get(\"h\") !== null) {\n                    u.searchParams.delete(\"h\")\n                    window.history.replaceState({}, '', u.toString())\n                }\n            }\n\n            // embedding stuff @see /test/embedding\n            if (window.location.pathname.slice(-4) === \"cncf\") {\n                msg = \"appt:all_done\"\n            } else {\n                const q = window.location.search.substring(0, 6)\n                if (q !== \"\") {\n                    if (q === \"?sts=0\") {\n                        msg = \"appt:almost_done\"\n                    } else if (q === \"?sts=1\" || q === \"?sts=2\") {\n                        msg = \"appt:error_page\"\n                    }\n                }\n            }\n        }\n\n        // embedding stuff @see /test/embedding\n        if (window.parent && msg !== \"\") {\n            window.parent.postMessage(msg, \"*\")\n        }\n    })\n})()\n"],"names":["window","addEventListener","btn","document","getElementById","msg","e","t","currentTarget","attrName","hasAttribute","uri","location","pathname","search","getAttribute","removeAttribute","style","display","history","replaceState","go","URL","u","searchParams","get","delete","toString","slice","q","substring","parent","postMessage"],"sourceRoot":""}