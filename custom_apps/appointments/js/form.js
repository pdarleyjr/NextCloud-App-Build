!function(){"use strict";function t(){let e=document.getElementById("srgdev-ncfp_fbtn");this.checked?e.hasAttribute("shade")&&e.removeAttribute("shade"):e.hasAttribute("shade")||e.setAttribute("shade","1"),this.hasAttribute("err")&&this.removeAttribute("err"),this.hasAttribute("required")&&this.removeAttribute("required")}function n(){this.setCustomValidity(""),this.getAttribute("err")?(this.removeAttribute("err"),this.removeEventListener("focus",n,!1)):this.removeEventListener("input",n,!1)}function d(e){let t=0;const d={};document.getElementById("srgdev-ncfp_frm").getAttribute("data-translations").split(",").forEach((e=>{const t=e.split(":");d[t[0]]=t[1]}));let i=document.getElementById("srgdev-ncfp_fbtn");if(!0===i.disabled)return e.preventDefault(),e.stopPropagation(),!1;i=document.getElementById("srgdev-ncfp_sel-hidden");let r,a=i.selectedIndex;-1===a||""===i.value?(i=document.getElementById("srgdev-ncfp_sel-dummy"),i.setAttribute("err","err"),i.addEventListener("focus",n,!1),t=1):r=i.dataRef[a].tzi,i=document.getElementById("srgdev-ncfp_talk_type"),null!==i&&(a=i.selectedIndex,1!==a&&2!==a&&(i.setAttribute("err","err"),i.addEventListener("focus",n,!1),t=1)),i=document.getElementById("srgdev-ncfp_fname"),i.value.length<2&&(i.setCustomValidity(d.name_required),i.addEventListener("input",n,!1),0===t&&i.reportValidity(),t=1),i=document.getElementById("srgdev-ncfp_femail"),(i.value.length<5||-1===i.value.indexOf("@")||i.value.indexOf("@")>i.value.lastIndexOf("."))&&(i.setCustomValidity(d.email_required),i.addEventListener("input",n,!1),0===t&&i.reportValidity(),t=1),i=document.getElementById("srgdev-ncfp_fphone"),null!==i&&(""===i.value||i.value.length<9||!1===/^[0-9 .()\-+,/]*$/.test(i.value))&&(i.setCustomValidity(d.phone_required),i.addEventListener("input",n,!1),0===t&&i.reportValidity(),t=1);let l=document.getElementById("srgdev-ncfp-main-inputs").children;for(let e,i=0,r=l.length;i<r;i++)if(e=l[i],e.hasAttribute("data-more")&&("INPUT"===e.tagName||"TEXTAREA"===e.tagName)){let i=e.value.trim();"r1"===e.getAttribute("data-more")&&""===i?(e.setCustomValidity(d.required),e.addEventListener("input",n,!1),0===t&&e.reportValidity(),t=1):e.hasAttribute("type")&&"number"===e.getAttribute("type")&&isNaN(i)&&(e.setCustomValidity(d.number_required),e.addEventListener("input",n,!1),0===t&&e.reportValidity(),t=1)}if(i=document.getElementById("appt_gdpr_id"),null!==i&&!1===i.checked&&(i.setAttribute("err","err"),i.setAttribute("required","1"),t=1),0!==t)return e.preventDefault(),e.stopPropagation(),!1;document.getElementById("srgdev-ncfp_fbtn-spinner").style.display="inline-block",i=document.createElement("input"),i.type="hidden",i.name="tzi",i.value=r,this.appendChild(i)}function i(e){document.body.removeEventListener("keyup",r),document.getElementById("srgdev-ncfp_frm").removeEventListener("focusin",a),null===e&&(e=document.getElementById("srgdev-dpu_main-cont")),e.removeAttribute("data-open")}function r(t){"Escape"!==t.key&&"Esc"!==t.key&&27!==t.keyCode||(i(null),e.preventDefault())}function a(e){e.target&&"DIV"!==e.target.nodeName.toUpperCase()&&"SPAN"!==e.target.nodeName.toUpperCase()&&"srgdev-dpu_tz-picker"!==e.target.id&&document.getElementById("srgdev-dpu_main-date").firstAvailble.focus()}function l(e){let t=document.getElementById("srgdev-dpu_main-cont");if(null===t.getAttribute("data-open")){t.setAttribute("data-open",""),document.body.addEventListener("keyup",r);const e=document.getElementById("srgdev-dpu_main-date").curActive;e&&-1===e.indexOf("e")&&document.getElementById("srgdev-dpu_dc"+e).focus(),document.getElementById("srgdev-ncfp_frm").addEventListener("focusin",a)}else i(t);return e.preventDefault(),!1}function s(e){if(D(e)||T(e)){const e=document.getElementById("srgdev-dpu_tc_wrap");e&&e.firstChild.focus()}}function o(e){let t=this.id.slice(13),n=this.parentElement.curActive;if(n===t)return;n||(n=t);const d=+(""+t).replace("e",""),i=document.getElementById("srgdev-dpu_bf-cont"),r=Math.floor(d/5);r!==i.curDP&&(i.curDP=r,u(i)),document.getElementById("srgdev-dpu_dc"+n).removeAttribute("data-active"),document.getElementById("srgdev-dpu_dc"+t).setAttribute("data-active",""),this.parentElement.curActive=t,"e"===t.slice(-1)&&(t="e");const a=document.getElementById("srgdev-dpu_main-time");if(!a)throw new Error("srgdev-dpu_main-time missing");for(;a.firstChild;)a.removeChild(a.lastChild);if("e"!==t){const e=a.timePages[t];let n=document.createElement("div");n.className="srgdev-dpu-tc-full-date",n.appendChild(document.createTextNode(e.fullDate)),a.appendChild(n);const d=i.tuClass,r=document.createElement("div");r.className="srgdev-dpu-tc-tu-wrap",r.id="srgdev-dpu_tc_wrap",r.setAttribute("data-dm",e.dataDm),e.timeItems.forEach((e=>{const t=document.createElement("span");if(t.className=d,t.dpuClickID=e.dpuClickID,t.timeAt=e.timeAt,t.appendChild(document.createTextNode(e.time)),""!==e.title){const n=document.createElement("span");n.className="srgdev-dpu-appt-title",n.appendChild(document.createTextNode(e.title)),t.appendChild(n)}t.setAttribute("tabindex","0"),r.appendChild(t)})),a.appendChild(r)}else{const e=document.createElement("div");e.id="srgdev-dpu_tce",e.className="srgdev-dpu-time-cont",e.appendChild(document.createTextNode(document.getElementById("srgdev-ncfp_sel-hidden").getAttribute("data-tr-not-available"))),a.appendChild(e)}this.parentElement.parentElement.scrollLeft=0,e.stopPropagation()}function c(e){let t=e.target;if(void 0!==t.parentElement.dpuClickID&&(t=t.parentElement),void 0!==t.dpuClickID){document.getElementById("srgdev-ncfp_sel-dummy").value=t.parentElement.getAttribute("data-dm")+" - "+t.timeAt;let e=document.getElementById("srgdev-ncfp_sel-hidden");e.selectedIndex=t.dpuClickID,e.value=e.dataRef[t.dpuClickID].d;const n=e.dataRef[t.dpuClickID].dur;e=document.getElementById("srgdev-ncfp_dur-cont");const d=e.getAttribute("data-tr-hr"),r=e.getAttribute("data-tr-mn"),a=function(e){let t="";const n=e/60|0;n>0&&(t+=n+d+" ");const i=e-60*n;return t+(i>0?i+r:"")};if(null===n||1===n.length)e.style.display="none";else{const t=e.lastElementChild.children;t[0].textContent=a(n[0]);for(let d,i=1,r=Math.max(t.length,n.length);i<r;i++){if(i>=t.length)d=document.createElement("option"),d.className="srgdev-ncfp-form-option",d.appendChild(document.createTextNode("")),e.lastElementChild.appendChild(d);else if(d=t[i],i>=n.length){d.style.display="none";continue}d.style.display="block",d.value=i,d.textContent=a(n[i])}e.style.display="block"}e.lastElementChild.value=0,i(null)}}function u(e){let t;void 0!==e.target?(t=e.target.parentElement,"srgdev-dpu_bf-back"===e.target.id?t.curDP>0&&t.curDP--:(t.curDP<t.maxDP&&t.curDP++,t.curDP===t.maxDP?e.target.setAttribute("disabled",""):e.target.removeAttribute("disabled"))):t=e,0===t.curDP?t.firstElementChild.setAttribute("disabled",""):t.firstElementChild.removeAttribute("disabled"),t.curDP===t.maxDP?t.lastElementChild.setAttribute("disabled",""):t.lastElementChild.removeAttribute("disabled"),document.getElementById("srgdev-dpu_main-date").style.left="-"+5*t.curDP*4.6+"em",document.getElementById("srgdev-dpu_main-cont").scrollLeft=0}function m(e){if(void 0!==e.changedTouches&&e.changedTouches.length>0){const t=e.changedTouches[0],n=this.touchInfo;n.x=t.clientX,n.y=t.clientY,n.id=t.identifier}}function p(e){if(void 0!==e.changedTouches&&e.changedTouches.length>0){const t=e.changedTouches[0],n=this.touchInfo;if(t.identifier===n.id){const e=t.clientX-n.x|0,d=t.clientY-n.y|0;let i=e>>31,r=e+i^i;i=d>>31,r>(d+i^i)&&r>50&&(e<0?this.bfNav.lastElementChild.click():this.bfNav.firstElementChild.click())}n.id=-1}}function f(e,t){const n=new Date,d=n.toLocaleDateString(e,{timeZone:t}),i=n.toLocaleDateString(e,{timeZone:t,timeZoneName:"long"}),r=i.indexOf(d);return r>=0?(i.substring(0,r)+i.substring(r+d.length)).replace(/^[\s,.\-:;]+|[\s,.\-:;]+$/g,""):t}function g(e,t,n){const d=document.createElement("select");d.id="srgdev-dpu_tz-picker",d.addEventListener("change",(()=>{if(d.value===d.currentTz)return;let n;d.currentTz=d.value;try{n=Intl.DateTimeFormat(t,{timeZone:d.value}).resolvedOptions().timeZone}catch(e){return}d.nextSibling.textContent=f(t,n),_(e,n)})),n||(n=Intl.DateTimeFormat(t).resolvedOptions().timeZone),d.currentTz=n;const i=async()=>{(await async function(){try{const e=Intl.supportedValuesOf("timeZone").filter((e=>-1!==e.indexOf("/")&&!e.startsWith("Etc")));return Promise.resolve(e)}catch(e){}let e=document.getElementById("srgdev-ncfp_frm").getAttribute("data-zones");if(e)return fetch(e).then((e=>e.json())).then((e=>{if(!e.zones||"object"!=typeof e.zones||Array.isArray(e.zones))throw new Error("invalid zones data");const t=Object.keys(e.zones);if(0===t.length)throw new Error("empty zones data");return t})).catch((e=>["error: no_timezones_info"]))}()).forEach((e=>{const t=document.createElement("option");t.textContent=e,d.appendChild(t)})),d.value=n,d.removeEventListener("focus",i)};d.addEventListener("focus",i);const r=document.createElement("div");r.className="srgdev-dpu-tz-name",r.innerText=f(t,n);const a=document.createElement("label");return a.className="srgdev-dpu-tz-picker-wrapper",a.appendChild(d),a.appendChild(r),a}window.addEventListener("DOMContentLoaded",(function(){let e=document.getElementById("appt_gdpr_id");null!==e&&(e.addEventListener("change",t),t.apply(e));let n=document.getElementById("srgdev-ncfp_frm");n.addEventListener("submit",d),setTimeout((function(){n.autocomplete="on"}),1e3);const i=function(e){let t={},n=e.split(".");for(let e,d=n.length,i=0;i<d;i++)e=n[i].split(":"),t[e[0]]=+e[1];return t}(n.getAttribute("data-pps"));(function(e){const t=document.getElementById("srgdev-ncfp-main-inputs"),n=new URLSearchParams((1&e.prefillInputs)>0?window.location.search:"");if(n){const d=e.prefilledType;for(let e of t.children)if(n.has(e.name))if(e.value=n.get(e.name),2===d){e.style.display="none";const t=document.querySelector(`label[for="${e.id}"]`);t&&(t.style.display="none")}else if(1===d){e.disabled=!0;const n=document.createElement("label");n.textContent=e.value,n.style.display="block",n.style.fontWeight="bold",t.insertBefore(n,e.nextSibling),e.style.display="none"}}})(i),_(i),document.getElementById("srgdev-ncfp_sel-dummy").addEventListener("click",l),document.getElementById("srgdev-ncfp_sel-dummy").addEventListener("keyup",(function(e){D(e)&&l(e)})),setTimeout((function(){let e,t=document.getElementById("srgdev-ncfp_fbtn");e=t.hasAttribute("data-tr-ses-to")?t.getAttribute("data-tr-ses-to"):"Session Timeout. Reload.",t.disabled=!0,t.textContent=e}),9e5)}));const v="nbrWeeks",h="showEmpty",E="startFNED",y="showWeekends",b="time2Cols",C="endTime",I=function(e,t,n){const d=void 0!==window.monthNames?window.monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],i=void 0!==window.dayNames?window.dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return{df:n?new Intl.DateTimeFormat(e,{month:"long",timeZone:t}).format:function(e){return d[e.getMonth()]},wf:n?new Intl.DateTimeFormat(e,{weekday:"short",timeZone:t}).format:function(e){return i[e.getDay()]},wft:n?new Intl.DateTimeFormat(e,{weekday:"short",month:"long",day:"2-digit",timeZone:t}).format:function(e){return e.toDateString()},wff:n?new Intl.DateTimeFormat(e,{weekday:"long",month:"long",day:"numeric",year:"numeric",timeZone:t}).format:function(e){return e.toLocaleDateString()}}},A=function(e,t,n,d,i){let r=document.createElement("div");r.id="srgdev-dpu_dc"+d.lcc+(t?"e":""),r.className="srgdev-dpu-date-cont"+(t?" srgdev-dpu-dc-empty":"");let a=document.createElement("span");return a.className=0!==e.getDay()?"srgdev-dpu-date-wd":"srgdev-dpu-date-wd srgdev-dpu-date-wd-sunday",a.appendChild(document.createTextNode(i.wf(e))),r.appendChild(a),a=document.createElement("span"),a.className="srgdev-dpu-date-dn",a.appendChild(document.createTextNode(e.getDate())),r.appendChild(a),a=document.createElement("span"),a.className="srgdev-dpu-date-md",a.appendChild(document.createTextNode(i.df(e))),r.appendChild(a),r.addEventListener("click",o),t||(r.setAttribute("tabindex","0"),r.addEventListener("focus",o),r.addEventListener("keyup",s)),d.lcc===d.rccN&&(d.rccN+=5,d.bfMaxDP++,d.lcc>n&&(d.do_break=!0)),++d.lcc,r};function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=document.getElementById("srgdev-ncfp_sel-hidden");if("2"!==n.getAttribute("data-state"))return;const d=n.getAttribute("data-hdr"),r=n.getAttribute("data-tr-back"),a=n.getAttribute("data-tr-next"),l=window.Intl&&"object"==typeof window.Intl,s=document.documentElement.hasAttribute("data-locale")?[document.documentElement.getAttribute("data-locale").replaceAll("_","-"),document.documentElement.lang]:[document.documentElement.lang];let o;const f=new URLSearchParams(window.location.search);if(void 0!==t)o=t;else if(f){const e=f.get("tz");if(e)try{o=Intl.DateTimeFormat(s,{timeZone:e}).resolvedOptions().timeZone}catch(e){o=void 0}}let _,k=[];if(l){try{_=Intl.DateTimeFormat(s,{timeZone:o}).resolvedOptions().timeZone}catch(e){}"string"!=typeof _&&(_=void 0)}const w=l?new Intl.DateTimeFormat(s,{hour:"numeric",minute:"2-digit",timeZone:o}).format:function(e){return e.toLocaleTimeString()};for(let t,d,i,r,a,l,s,o,c,u,m=new Date,p=e[C],f=n.getAttribute("data-info").split(","),g=f.length,v=0;v<g;v++){if(u=f[v],l=u.indexOf(":",8),m.setTime(1e3*+u.substr(1,l-1)),t=m.getTimezoneOffset(),i=u.charAt(0),r=a=w(m),c=m.getTime(),o=null,1!==p&&"T"!==i||(s=l+1,l=u.indexOf(":",s),"T"===i?(o=u.substr(s,l-s).split(";").map((e=>0|e)),1===p&&o.length<2&&(m.setTime(c+6e4*o[0]),r+=" - "+w(m))):(s=1e3*+u.substr(s,l-s),m.setTime(s),r+=" - "+w(m))),void 0!==_)d=i+_;else{let e=Math.abs(t),n=Math.floor(e/60),r=e-60*n;d=i+(t>0?"-":"+")+(n<10?"0"+n:n)+(r<10?"0"+r:r)}l++,s=u.indexOf(":",l),k[v]={rts:c,d:u.substr(l,s-l),t:u.substr(s+2),dur:o,tzi:d,time:r,timeAt:a}}k.sort(((e,t)=>e.rts>t.rts?1:-1)),k.push({rts:0,d:"",t:"",tzi:"",time:""}),n.dataRef=k;const x="srgdev-dpu_bf-cont",N="srgdev-dpu_main-date",B="srgdev-dpu_main-time";let L,P,z=document.getElementById(N);if(null!==z){for(;z.firstChild;)z.removeChild(z.lastChild);z.curActive=void 0,P=document.getElementById(B),L=document.getElementById(x)}else{const t=document.createElement("div");t.id="srgdev-dpu_main-cont",t.className="srgdev-dpu-bkr-cls",z=document.createElement("div"),z.id="srgdev-dpu_main-header",z.appendChild(document.createTextNode(d)),t.appendChild(z),L=document.createElement("div"),L.maxDP=0,L.curDP=0,L.tuClass="",L.id=x,L.appendChild(document.createElement("span")),L.appendChild(document.createElement("span")),L.firstElementChild.id="srgdev-dpu_bf-back",L.firstElementChild.appendChild(document.createTextNode(r)),L.firstElementChild.addEventListener("click",u),L.firstElementChild.setAttribute("disabled",""),L.lastElementChild.id="srgdev-dpu_bf-next",L.lastElementChild.appendChild(document.createTextNode(a)),L.lastElementChild.addEventListener("click",u),0===e[b]||1===e[C]?L.tuClass="srgdev-dpu-time-unit"+(1===e[C]?"_tn":""):L.tuClass="srgdev-dpu-time-unit2",t.appendChild(L),z=document.createElement("div"),z.id=N,z.className="srgdev-dpu-bkr-cls",z.style.left="0em",function(e,t){e.touchInfo={x:0,y:0,id:-1},e.bfNav=t,e.addEventListener("touchstart",m),e.addEventListener("touchend",p)}(z,L),t.appendChild(z),P=document.createElement("div"),P.id=B,t.appendChild(P),l&&t.appendChild(g(e,s,o));const n=document.createElement("div");n.id="srgdev-dpu_main-hdr-icon",n.className="icon-close",n.addEventListener("click",(function(){i(null)})),n.role="button",n.addEventListener("keyup",(function(e){(D(e)||T(e))&&i(null)})),n.setAttribute("tabindex","0"),t.appendChild(n),t.addEventListener("click",c),t.addEventListener("keyup",(function(e){(D(e)||T(e))&&c(e)})),document.getElementById("srgdev-ncfp_sel_cont").appendChild(t)}const S=function(e,t,n,d,i,r){const a=7*i[v],l={lcc:0,rccN:5,do_break:!1,bfMaxDP:0};let s=new Date,o=new Date;if(o.setSeconds(1),o.setMinutes(0),o.setHours(0),1===i[h]&&0===i[E]){let e=d[0].rts;s.setTime(e),s.setSeconds(1),s.setMinutes(0),s.setHours(0);let t=s.getDay();t>0&&t<6&&o.setTime(s.getTime()-864e5*(t-1))}let c=-1,u=-1;const m=[],p=d.length;for(let e,t,f,g,v,E,b,C=0;C<p&&(E=d[C],e=E.rts,0!==e);C++){s.setTime(e);let d=100*(s.getMonth()+1)+s.getDate();if(u!==d){if(g=o.getTime(),o.setTime(s.getTime()),o.setSeconds(1),o.setMinutes(0),o.setHours(0),f=o.getTime(),1===i[h])for(;g<f&&(o.setTime(g),t=0===i[y]?o.getDay():1,0===t||6===t||(n.appendChild(A(o,!0,a,l,r)),m.push({lccIdx:-1,dataDm:"",timeItems:[],fullDate:""}),!l.do_break));)g+=864e5;if(l.do_break){s=o;break}o.setTime(g+864e5),v=A(s,!1,a,l,r),-1===c&&(c=l.lcc-1,v.setAttribute("data-active",""),n.firstAvailble=v),n.appendChild(v),b={lccIdx:l.lcc-1,dataDm:r.wft(s),timeItems:[],fullDate:r.wff(s)},m.push(b),u=d}b.timeItems.push({dpuClickID:C,timeAt:E.timeAt,time:E.time,title:E.t})}return e.timePages=m,t.maxDP=l.bfMaxDP,c}(P,L,z,k,e,I(s,o,l));z.firstAvailble.click(),z.curActive=S.toString();let O=Math.floor(S/5);O>0&&(L.curDP=O,u(L))}function D(e){return" "===e.key||"Space"===e.code||32===e.keyCode}function T(e){return"Enter"===e.key||"Enter"===e.code||13===e.keyCode}}();
//# sourceMappingURL=form.js.map